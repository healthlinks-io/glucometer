#: import sm kivy.uix.screenmanager
#:import Factory kivy.factory.Factory


<ActionSpinnerOptions@SpinnerOption>
    background_color: .4, .4, .4, 1
<ActionSpinner@Spinner+ActionItem>
    canvas.before:
        Color:
            rgba: 0.128, 0.128, 0.128, 1
        Rectangle:
            size: self.size
            pos: self.pos
    border: 27, 20, 12, 12
    background_normal: 'atlas://data/images/defaulttheme/action_group'
    option_cls: Factory.ActionSpinnerOptions


ScreenManager:
    id: sm


<MenuBar>:
    pos_hint: {'top':1}
    #size_hint: 1, 0.5
    height: 40
    ActionView:
        use_separator: True
        ActionPrevious:
            id: testid
            important: True

            title: root.set_time(0)
            on_press: app.root.transition.direction = 'right'
            on_release: app.root.current = 'home'
            with_previous: root.set_previous()
            #app_icon: 'atlas://data/images/defaulttheme/previous_normal'
            app_icon_width: 0.1
        ActionSpinner:
            id: spnr
            size_hint: 0.6, 1
            important: False
            values: root.screen_values
            on_text: root.set_screen()


<HomeScreen>:
    name: 'data'
    BoxLayout:
        orientation: 'vertical'
        MenuBar
        Button:
            size_hint: 1,0.25
            text: 'dropdown'
        Image:
            size_hint: 1,2.5
            source: 'testgraph.jpg'
            #text: 'graph goes here'
        BoxLayout:
            orientation: 'horizontal'
            Button:
                text: 'average'
            Button:
                text: 'deviation'
            Button:
                text: 'average'
<DataScreen>:
    name: 'home'
    BoxLayout:
        orientation: 'vertical'
        MenuBar
        Button

<BGScreen>:
    name: 'bgtest'

    BoxLayout:
        orientation: 'vertical'

        MenuBar
            id: dropid
        ProgressBar:
            id: pb
            max: 100
        Button:
            text: 'This is where you\'ll test BG'
            font_size: 20
            on_release: root.start_pb()#app.opendropdown()
<SettingsScreen>:
    name: 'settings'
    BoxLayout:
        orientation: 'vertical'
        MenuBar
        Button:
            text: 'setting 1'
        Button:
            text: 'setting 2'
        Button:
            text: 'setting 3'
        Button:
            text: 'setting 4'
        Button:
            text: 'setting 5'
<ExtrasScreen>:
    name: 'extras'
    BoxLayout:
        orientation: 'vertical'
        MenuBar
        Button:
            size_hint: 1,.5
            text: 'Extras!'
            on_release: app.flappy()
        Button:


