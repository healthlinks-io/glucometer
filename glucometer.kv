#: import sm kivy.uix.screenmanager
#:import Factory kivy.factory.Factory


<ActionSpinnerOptions@SpinnerOption>
    background_color: .4, .4, .4, 1
<ActionSpinner@Spinner+ActionItem>
    canvas.before:
        Color:
            rgba: 0.128, 0.128, 0.128, 1
        Rectangle:
            size: self.size
            pos: self.pos
    border: 27, 20, 12, 12
    background_normal: 'atlas://data/images/defaulttheme/action_group'
    option_cls: Factory.ActionSpinnerOptions

BoxLayout:
    orientation: 'vertical'
    canvas.before:
        Color:
            rgb: .6, .6, .6
        Rectangle:
            size: self.size
            source: 'res/background.png'

    ActionBar:
        height: 40
        ActionView:
            use_separator: True
            ActionPrevious:
                id: previousid
                important: True

                title: app.set_time(0)
                on_press: sm.transition.direction = 'right'
                on_release:
                    sm.current = 'home'
                    spnr.text = 'Home'
                    app.set_previous('home')
                with_previous: False
                app_icon_width: 0.1
            ActionSpinner:
                id: spnr
                size_hint: 0.6, 1
                important: False
                values: app.screen_names
                on_text: app.set_screen()
    CustomScreenManager:
        id: sm


            
<ExtrasScreen>:
    name: 'extras'
    BoxLayout:
        orientation: 'vertical'
        Button:
            size_hint: 1,.5
            text: 'Extras!'
            on_release: app.flappy()
        Button:


